消息中间件
    
    发送者将消息发送给消息服务器，消息服务器将消息存放在若干队列中，在合适的时候再将消息转发给接收者。这种模式下，发送和接收都是异步的，发送者无需等待；
    二者的生命周期未必相同，发送消息的时候接收者不一定运行，接收消息的时候发送者也不一定运行，一对多通信，对于一个消息可以有多个接收者。

    JAVA消息服务（JMS）定义了java中访问消息中间件的接口，JMS只是接口，并没有给与实现，实现JMS接口的消息中间件成为JMS Provider,已有的MOM系统包括ActiviteMQ，RocketMQ,RabbitMQ
    
    解决了哪些问题即作用：异步处理（其他系统从中间件中拿）、应用解耦（系统交互，对方系统挂了也没事，存在中间件中）、流量消峰（解决高并发）、日志处理（kafka）
    场景：MQ实现搜索引擎DIH增量
              未支付订单30分钟取消（延迟队列）
               大数据应用，类似百度统计，cnzz架构，消息队列

    缺点：
        系统可用性降低（MQ挂掉【依赖】）
        系统稳定性降低（网络故障- -消息丢失；消息重复- -脏数据的产生；宕机，无法消费消息- -消息积压）
        分布式一致性问题（感觉本来就有呀。。）
        系统C现在处理自己本地数据库成功了，然后发送了一个消息给MQ，系统D也确实是消费到了。但系统D操作自己本地数据库失败了。系统C成功了，D失败，导致系统整体数据不一致。
    
    怎么保证MQ消息不丢失?  https://www.jianshu.com/p/8ed16edc73e4
        生成者
        中间件
        消费者
    
    怎么保证MQ的高可用性?  https://www.cnblogs.com/shihaiming/p/11089201.html
    
    消息幂等性（幂等：任意多次执行对资源本身所产生的影响均与一次执行的影响相同）保证  https://www.jianshu.com/p/8d1c242872a4
    
    消息的有序性 https://blog.csdn.net/u010074988/article/details/88059648
    
    消息堆积 https://blog.csdn.net/qq_16681169/article/details/101081656
     1.使用Kafka时，消费者每次poll的数据业务处理时间不能超过kafka的max.poll.interval.ms，可以考虑调大超时时间或者调小每次poll的数据量。
     2.可以考虑增强消费者的消费能力，使用线程池消费或者将消费者中耗时业务改成异步，并保证对消息是幂等处理
     3.不但要有消息积压的监控，还可以考虑做消息消费速度的监控
        
    
    